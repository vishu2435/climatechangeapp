{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nvar __jsx = React.createElement;\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from \"react\";\nimport styles from \"./Tags.module.css\";\nimport Button from \"@material-ui/core/Button\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport ClearIcon from \"@material-ui/icons/Clear\";\nimport CancelIcon from \"@material-ui/icons/Cancel\";\n\nvar TagsInput = /*#__PURE__*/function (_Component) {\n  _inherits(TagsInput, _Component);\n\n  var _super = _createSuper(TagsInput);\n\n  function TagsInput(props) {\n    var _this;\n\n    _classCallCheck(this, TagsInput);\n\n    _this = _super.call(this, props);\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      inputSize: 1,\n      inputValue: \"\",\n      tagsArray: []\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onDivClick\", function (ev) {\n      document.querySelector(\".\" + styles.tagsComponent + \">input\").focus();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onInputChange\", function (event) {\n      event.persist();\n      var eve = event;\n      var value = eve.target.value;\n      var size = Math.max(1, value.length);\n      value = value[value.length - 1] === \",\" ? value.slice(0, value.length - 1) : value;\n\n      if (value.length < 80) {\n        _this.setState({\n          inputSize: size > 30 ? 30 : size,\n          inputValue: value\n        });\n      } else {\n        alert(\"maxlength reached\");\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onKeyDown\", function (event) {\n      event.persist();\n\n      if ((event.key === \"Enter\" || event.key === \",\") && _this.state.inputValue !== \"\") {\n        var array = _this.state.tagsArray;\n        var value = _this.state.inputValue;\n        var index = array.findIndex(function (i) {\n          return i.value === value;\n        });\n        console.log(\"index\", index);\n\n        if (index === -1) {\n          value = value.trim();\n          array.push({\n            id: _this.tagId,\n            value: value\n          });\n\n          _this.props.changeTagsArray(array);\n\n          _this.setState({\n            inputSize: 1,\n            inputValue: \"\"\n          }, function () {\n            console.log(\"Set \", _this.state);\n            _this.tagId += 1;\n          });\n        }\n      } else if (_this.state.inputValue === \"\" && _this.state.inputSize === 1 && event.key === \"Backspace\") {\n        var _array = _this.state.tagsArray;\n        console.log(\"Inp backspace\");\n\n        _array.pop();\n\n        _this.props.changeTagsArray(_array);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"deleteTag\", function (id) {\n      var array = _this.state.tagsArray;\n      var index = array.findIndex(function (i) {\n        return i[\"id\"] === id;\n      });\n      array.splice(index, 1);\n\n      _this.props.changeTagsArray(array);\n    });\n\n    _this.tagId = 0;\n    return _this;\n  }\n\n  _createClass(TagsInput, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return __jsx(\"div\", {\n        onClick: this.onDivClick,\n        className: styles.tagsComponent\n      }, this.props.tagsArray.map(function (i) {\n        return __jsx(Button, {\n          key: i.id,\n          className: styles.button,\n          style: {\n            padding: 2,\n            backgroundColor: \"#ebebeb\",\n            borderRadius: 30,\n            marginRight: 8,\n            marginTop: 5,\n            height: '100%',\n            textTransform: 'lowercase',\n            fontSize: 12,\n            paddingTop: 2,\n            paddingBottom: 2\n          },\n          variant: \"outlined\"\n        }, i[\"value\"], __jsx(IconButton, {\n          onClick: function onClick() {\n            return _this2.deleteTag(i.id);\n          },\n          style: {\n            fontSize: 3,\n            marginLeft: 6,\n            padding: 2,\n            color: \"white\"\n          }\n        }, __jsx(CancelIcon, {\n          style: {\n            fontSize: 16,\n            color: \"rgb(0,0,0,0.87)\"\n          }\n        })));\n      }), __jsx(\"input\", {\n        onChange: this.onInputChange,\n        onKeyPress: this.onKeyPress,\n        onKeyDown: this.onKeyDown,\n        value: this.state.inputValue,\n        type: \"text\",\n        size: this.state.inputSize\n      }));\n    }\n  }]);\n\n  return TagsInput;\n}(Component);\n\nexport default TagsInput;","map":null,"metadata":{},"sourceType":"module"}